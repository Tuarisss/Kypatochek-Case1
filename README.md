# üöß Kypatochek_AI_Assistant

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞ –ø—Ä—è–º–æ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π –Ω–æ—Ä–º–∞—Ç–∏–≤–Ω–æ–π –±–∞–∑—ã. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ç–µ–∫—Å—Ç, –≥–æ–ª–æ—Å, —Ñ–æ—Ç–æ, —Ç–µ—Å—Ç—ã –∏ —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω (LM Studio + whisper.cpp).

## üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–î–∏–∞–ª–æ–≥ –ø–æ –æ—Ö—Ä–∞–Ω–µ —Ç—Ä—É–¥–∞**: Qwen3-vl-8b (LM Studio) –æ—Ç–≤–µ—á–∞–µ—Ç –∫—Ä–∞—Ç–∫–æ –∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ä–æ—Å—Å–∏–π—Å–∫–∏–º –Ω–æ—Ä–º–∞–º.
- **RAG –±–µ–∑ –æ–±–ª–∞–∫–∞**: –±–æ—Ç –ø–æ–¥–º–µ—à–∏–≤–∞–µ—Ç –≤—ã–¥–µ—Ä–∂–∫–∏ –∏–∑ `knowledge_base/` (TXT/MD/RTF/PDF).
- **–ì–æ–ª–æ—Å–æ–≤—ã–µ**: Telegram OGG ‚Üí ffmpeg ‚Üí whisper.cpp ‚Üí —Ç–µ–∫—Å—Ç.
- **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—à—å —Ñ–æ—Ç–æ ‚Äì Qwen-VL –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∏ —Å—Å—ã–ª–∞–µ—Ç—Å—è –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç—ã.
- **–î–æ–∫—É–º–µ–Ω—Ç—ã –≤ –æ–¥–∏–Ω –∫–ª–∏–∫**: –∫–æ–º–∞–Ω–¥–∞/–∫–Ω–æ–ø–∫–∞ `üìö –î–æ–∫—É–º–µ–Ω—Ç—ã` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫; –æ—Ç–ø—Ä–∞–≤—å –Ω–æ–º–µ—Ä ‚Äî –ø–æ–ª—É—á–∏—à—å PDF.
- **–ö–≤–∏–∑—ã**: –∫–Ω–æ–ø–∫–∞ `üìù –¢–µ—Å—Ç` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –≤–æ–ø—Ä–æ—Å—ã, –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤, —Å—á–∏—Ç–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É, –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∞ ¬´‚õî –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç¬ª.
- **–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –≤ —á–∞—Ç-—Å—Ç–∏–ª–µ**: `/reload_docs`, `/stats`, –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤—ã—Ö PDF –ø—Ä—è–º–æ —Å–æ–æ–±—â–µ–Ω–∏–µ–º.
- **–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è**: inline-–∫–Ω–æ–ø–∫–∏ ¬´–°–æ–≥–ª–∞—Å–µ–Ω/–ù–µ —Å–æ–≥–ª–∞—Å–µ–Ω¬ª + —Å–±–æ—Ä –§–ò–û/–¥–æ–ª–∂–Ω–æ—Å—Ç–∏.

## üßë‚Äçüíª –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç
1. `/start` ‚Üí –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, —Å–æ–≥–ª–∞—Å–∏–µ –ü–î–Ω –∫–Ω–æ–ø–∫–∞–º–∏.
2. –í–≤–æ–¥ –§–ò–û + –¥–æ–ª–∂–Ω–æ—Å—Ç–∏ ‚Üí –¥–æ—Å—Ç—É–ø –∫ —Ç–µ–∫—Å—Ç—É/–≥–æ–ª–æ—Å—É/—Ñ–æ—Ç–æ.
3. `üìö –î–æ–∫—É–º–µ–Ω—Ç—ã` ‚Üí –Ω–æ–º–µ—Ä–æ–≤–∫–∞ —Ñ–∞–π–ª–æ–≤, –≤–≤–æ–¥ —Ü–∏—Ñ—Ä—ã ‚Üí –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç PDF.
4. `üìù –¢–µ—Å—Ç` ‚Üí –≤–æ–ø—Ä–æ—Å (inline-–∫–Ω–æ–ø–∫–∏), —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤, ¬´‚õî –ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç¬ª ‚Üí –∏—Ç–æ–≥–∏.
5. `/stats` (—Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω) ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å, —Ç–æ–ø –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
6. –ì–æ–ª–æ—Å/—Ñ–æ—Ç–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ñ–ª–∞–π–Ω.

## üß± –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
[Telegram API (python-telegram-bot)]
      |
      v
[telegram_bot.py]
  ‚îú‚îÄ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –∫–Ω–æ–ø–∫–∏, –∫–æ–º–∞–Ω–¥—ã
  ‚îú‚îÄ —Å–±—Ä–æ—Å –ø–∞–º—è—Ç–∏, –≤—ã–¥–∞—á–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∫–≤–∏–∑—ã
  ‚îî‚îÄ –≤—ã–∑–æ–≤ ChatService + BotDatabase (sqlite3)
          |
          +--> –≥–æ–ª–æ—Å ‚Üí audio_utils (ffmpeg) + whisper_client (whisper.cpp)
          +--> —Ñ–æ—Ç–æ  ‚Üí answer_image() ‚Üí LM Studio (Qwen3-VL)
          +--> —Ç–µ–∫—Å—Ç ‚Üí answer_text() ‚Üí document_store.search() + lm_client.chat()
                           |                     |
                           |                     ‚îî‚îÄ LM Studio `/v1/chat/completions`
                           ‚îî‚îÄ PyPDF2 + keyword-—Å–∫–∞–Ω –ø–æ knowledge_base
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
| –ú–æ–¥—É–ª—å | –ó–æ–Ω–∞ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ |
|--------|----------------------|
| `bot_app/telegram_bot.py` | –ö–æ–º–∞–Ω–¥—ã, inline/reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, –≤—ã–¥–∞—á–∞ PDF, –∫–≤–∏–∑—ã, —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ü–î–Ω. |
| `bot_app/chat_service.py` | –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤, –∫–æ–Ω—Ç–µ–∫—Å—Ç, –≤—ã–∑–æ–≤—ã LM Studio, Whisper, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤. |
| `bot_app/document_store.py` | –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø–æ–∏—Å–∫ –ø–æ `knowledge_base/` (TXT/MD/RTF/PDF). |
| `bot_app/db.py` | SQLite: –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏, –∏—Å—Ç–æ—Ä–∏—è, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∫–≤–∏–∑—ã. |
| `bot_app/audio_utils.py`, `whisper_client.py` | OGG‚ÜíWAV, `whisper-cli` —Å JSON-–≤—ã–≤–æ–¥–æ–º. |
| `bot_app/lm_client.py` | HTTP-–∫–ª–∏–µ–Ω—Ç –∫ LM Studio. |

## ‚öôÔ∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- Python 3.10+
- `python-telegram-bot>=21.3`, `requests`, `PyPDF2`
- –õ–æ–∫–∞–ª—å–Ω–æ: `ffmpeg`, —Å–æ–±—Ä–∞–Ω–Ω—ã–π `whisper.cpp`, LM Studio —Å –º–æ–¥–µ–ª—å—é `qwen/qwen3-vl-8b`

- ## üèÅ Roadmap
- Web-–ø–∞–Ω–µ–ª—å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OCR –¥–ª—è —Å–∫–∞–Ω–æ–≤.
- –í–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –≤–º–µ—Å—Ç–æ keyword match.
- –ì–æ–ª–æ—Å–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã —á–µ—Ä–µ–∑ TTS.

